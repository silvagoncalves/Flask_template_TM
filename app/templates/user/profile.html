{% extends 'base.html' %}

{% block header %}
    <h3>{% block title %}{{ g.user['username'] }}{% endblock %}</h3>
{% endblock %}

{% block content %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    {% if teachers %}
    <span class="propos"><h5>Vos élèves :</h5>
        {% for user in followed %}
           <button class= "button follow-button" ><a href="{{ url_for('messaging.messaging',  user_id=user.id) }}">{{ user.username }}</a></button> 
        </div>
        {% endfor %}
    </span>
        {% for user in teachers %}
        <span class="propos"><h5>Votre compte :</h5></span>
            <div class="teacher-info-box">
                <div class="info-container2">
                    <h6 class="info-title2">Votre nom d'utilisateur:</h6>
                    <span class="info-content1">
                            {{ g.user['username'] }}
                    </span>
                </div>
                <div class="info-container2">
                    <h6 class="info-title2">Votre adresse électronique:</h6>
                    <span class="info-content2">
                        {{ g.user['mail'] }}
                    </span>
                </div>
                <div class="info-container2">
                    <h6 class="info-title2"><strong>Votre numéro de téléphone:</strong></h6>
                    <span class="info-content2">
                        {{ g.user['telephone'] }}
                    </span>
                    </div>
                <div class="info-container2">
                    <h6 class="info-title2">Niveaux que vous enseignez :</h6>
                    <span class="info-content2">
                        {% set levels = [] %}
                        {% for level in levels_teacher %}
                            {% set _ = levels.append(level.level_name) %}
                        {% endfor %}
                    {{ levels|join(', ') }}
                    </span>
                    </div>
                <div class="info-container2">
                    <h6 class="info-title2">Matières enseignées:</h6>
                    <span class="info-content2">
                    {% set subjects = [] %}
                        {% for subject in subjects_teacher %}
                            {% set _ = subjects.append(subject.subject_name) %}
                        {% endfor %}
                    {{ subjects|join(', ') }}
                    </span>
                    </div>
                <div class="info-container2">
                    <h6 class="info-title2">Types de cours:</h6>
                    <span class="info-content2">
                    {% set courses_type = [] %}
                        {% for course_type in course_types %}
                            {% set _ = courses_type.append(course_type.course_type_name) %}
                        {% endfor %}
                    {{ courses_type|join(', ') }}
                    </span>
                    </div>

                <a class="changement-link" href="{{ url_for('auth.count_modification') }}">Voulez-vous modifier votre profil ?</a>
                </div>   
        {% endfor %}
    {% else %}
    <h5>Vos enseignants :</h5>
    <div class="button-container2">
        {% for user in following %}
            <div class="button-wrapper2">
                <a class="register-link2" href="{{ url_for('messaging.messaging', user_id=user.id) }}">{{ user.username }}</a>
            </div>
       {% endfor %}
    <div class="teacher-info-box">
        <div>
            <h5>Nom d'utilisateur : {{ g.user['username'] }}</h5>
            <h5>Adresse email : {{ g.user['mail'] }}</h5>
            <h5>Numéro de téléphone : {{ g.user['telephone'] }}</h5>
            <a class="changement-link" href="{{ url_for('auth.count_modification_student') }}">Voulez-vous modifier votre profil ?</a>
        </div>
    </div>
</ul>
    
    {% endif %}
{% endblock %}



