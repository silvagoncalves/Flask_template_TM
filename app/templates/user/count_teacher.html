{% extends 'base.html' %}

{% block header %}
    <h3>{% block title %}Compte de {{ teacher['username'] }}{% endblock %}</h3>
    {% if total > 0 %}
        <p>Note attribuée : {{ total }}</p>
    {% else %}
        <p>Aucune note n'a été enregistrée pour l'instant.</p>
    {% endif %}
{% endblock %}

{% block content %}
    {% if teacher %}
        <h5>A propos : </h5>
        <div class="teacher-info-box">
            <ul>
                <h6>Niveaux enseignés: </h6>
                <ul class="info-list">
                    {% for level in levels_teacher %}
                        <li>{{ level.level_name }}</li>
                    {% endfor %}
                </ul>
                <h6>Matières enseignées:</h6>
                <ul class="info-list">
                    {% for subject in subjects_teacher %}
                        <li>{{ subject.subject_name }}</li>
                    {% endfor %}
                </ul>
                <h6>Types de cours:</h6>
                <ul class="info-list">
                    {% for course_type in course_types %}
                        <li>{{ course_type.course_type_name }}</li>
                    {% endfor %}
                </ul>
                <h6>Tarif :</h6>
                <ul class="info-list">
                    <li>{{ tarif_teacher }}CHF</li>
                </ul>
            </ul>
        </div>
        {% if not follow %}
            <form action="{{ url_for('user.count_teacher', teacher_id=teacher['id']) }}" method="POST">
                <button type="submit" name="follow">Voulez-vous suivre cet enseignant ?</button>
            </form>
        {% endif %}
        {% if follow %}
        {% if follow %}
            <form action="{{ url_for('user.count_teacher', teacher_id=teacher['id']) }}" method="POST">
                <label for="grade">Entrez votre note:</label>
                <input type="number" id="grade" name="grade" min="1" max="5">
                <input type="submit" value="Soumettre">
            </form>
            <form action="{{ url_for('user.count_teacher', teacher_id=teacher['id']) }}" method="POST">
                <button type="submit" name="unfollow">Ne plus suivre cet enseignant</button>
            </form>
            <button id="enseignantButton"><a href="{{ url_for('user.show_profile') }}">Voulez-vous discuter avec {{ teacher['username'] }} ?</a></button>
        {% endif %}
        {% endif %}
    {% endif %}
{% endblock %}